//Auto-generated by RSP Compiler
//Source: test/syntax/include.rsp.html
import "dart:io";
import "package:stream/stream.dart";

/** Template, include, for rendering the view. */
void include(HttpConnect connect, {foo, more, less}) { //7
  var _cxs = new List<HttpConnect>(), request = connect.request, response = connect.response, _v_;

  if (!connect.isIncluded)
    response.headers.contentType = new ContentType.fromString("""text/html; charset=utf-8""");

  var less = new StringBuffer(); _cxs.add(connect); //var#7
  connect = new HttpConnect.buffer(connect, less); response = connect.response;

  response.addString("""
less is more
"""); //#8

  connect = _cxs.removeLast(); response = connect.response;
  less = less.toString();

  response.addString("""

"""); //#10

  var _0 = new StringBuffer(); _cxs.add(connect); //var#12
  connect = new HttpConnect.buffer(connect, _0); response = connect.response;

  response.addString("""
  More information
"""); //#13

  include(connect.server.connectForInclusion(connect, success: () { //#14

    connect = _cxs.removeLast(); response = connect.response;

    include(connect.server.connectForInclusion(connect, success: () { //#11

      connect.close();
    }), foo: true, less: less, more: _0.toString()); //end-of-include
  }), more: """recursive"""); //end-of-include
}
